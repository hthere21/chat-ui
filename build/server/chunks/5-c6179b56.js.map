{"version":3,"file":"5-c6179b56.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/assistants/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/5.js"],"sourcesContent":["import { c as collections } from \"../../../chunks/database.js\";\nimport { e as error } from \"../../../chunks/index.js\";\nconst NUM_PER_PAGE = 24;\nconst load = async ({ url, locals }) => {\n  const modelId = url.searchParams.get(\"modelId\");\n  const pageIndex = parseInt(url.searchParams.get(\"p\") ?? \"0\");\n  const username = url.searchParams.get(\"user\");\n  const createdByCurrentUser = locals.user?.username && locals.user.username === username;\n  let user = null;\n  if (username) {\n    user = await collections.users.findOne(\n      { username },\n      { projection: { _id: 1 } }\n    );\n    if (!user) {\n      throw error(404, `User \"${username}\" doesn't exist`);\n    }\n  }\n  const filter = {\n    ...modelId && { modelId },\n    ...!createdByCurrentUser && { userCount: { $gt: 1 } },\n    ...user ? { createdById: user._id } : { featured: true }\n  };\n  const assistants = await collections.assistants.find(filter).skip(NUM_PER_PAGE * pageIndex).sort({ userCount: -1 }).limit(NUM_PER_PAGE).toArray();\n  const numTotalItems = await collections.assistants.countDocuments(filter);\n  return {\n    assistants: JSON.parse(JSON.stringify(assistants)),\n    selectedModel: modelId ?? \"\",\n    numTotalItems,\n    numItemsPerPage: NUM_PER_PAGE\n  };\n};\nexport {\n  load\n};\n","import * as server from '../entries/pages/assistants/_page.server.ts.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/assistants/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/assistants/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/5.b86eb4f0.js\",\"_app/immutable/chunks/scheduler.6a9d17f6.js\",\"_app/immutable/chunks/index.f8ec6462.js\",\"_app/immutable/chunks/each.81050b20.js\",\"_app/immutable/chunks/isHuggingChat.69ebbc03.js\",\"_app/immutable/chunks/public.bedf1950.js\",\"_app/immutable/chunks/navigation.bcbcd3d3.js\",\"_app/immutable/chunks/singletons.dcb5d507.js\",\"_app/immutable/chunks/stores.c2158893.js\",\"_app/immutable/chunks/add.51f471f2.js\",\"_app/immutable/chunks/spread.84d39b6c.js\",\"_app/immutable/chunks/close.5676f196.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;AAEA,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,IAAI,GAAG,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,KAAK;AACxC,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AAClD,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC;AAC/D,EAAE,MAAM,QAAQ,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAChD,EAAE,MAAM,oBAAoB,GAAG,MAAM,CAAC,IAAI,EAAE,QAAQ,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC;AAC1F,EAAE,IAAI,IAAI,GAAG,IAAI,CAAC;AAClB,EAAE,IAAI,QAAQ,EAAE;AAChB,IAAI,IAAI,GAAG,MAAM,WAAW,CAAC,KAAK,CAAC,OAAO;AAC1C,MAAM,EAAE,QAAQ,EAAE;AAClB,MAAM,EAAE,UAAU,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE;AAChC,KAAK,CAAC;AACN,IAAI,IAAI,CAAC,IAAI,EAAE;AACf,MAAM,MAAM,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;AAC3D,KAAK;AACL,GAAG;AACH,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,GAAG,OAAO,IAAI,EAAE,OAAO,EAAE;AAC7B,IAAI,GAAG,CAAC,oBAAoB,IAAI,EAAE,SAAS,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE;AACzD,IAAI,GAAG,IAAI,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC5D,GAAG,CAAC;AACJ,EAAE,MAAM,UAAU,GAAG,MAAM,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,OAAO,EAAE,CAAC;AACpJ,EAAE,MAAM,aAAa,GAAG,MAAM,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AAC5E,EAAE,OAAO;AACT,IAAI,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;AACtD,IAAI,aAAa,EAAE,OAAO,IAAI,EAAE;AAChC,IAAI,aAAa;AACjB,IAAI,eAAe,EAAE,YAAY;AACjC,GAAG,CAAC;AACJ,CAAC;;;;;;;AC7BW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAA6C,CAAC,EAAE,QAAQ;AAEnH,MAAC,SAAS,GAAG,wCAAwC;AACrD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,wCAAwC,CAAC,iDAAiD,CAAC,0CAA0C,CAAC,8CAA8C,CAAC,8CAA8C,CAAC,0CAA0C,CAAC,uCAAuC,CAAC,0CAA0C,CAAC,yCAAyC,EAAE;AACthB,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}