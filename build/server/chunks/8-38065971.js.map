{"version":3,"file":"8-38065971.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/8.js"],"sourcesContent":["import { r as redirect } from \"../../../chunks/index.js\";\nimport { g as getOIDCAuthorizationUrl } from \"../../../chunks/auth.js\";\nimport { b as base } from \"../../../chunks/paths.js\";\nimport { A as ALTERNATIVE_REDIRECT_URLS } from \"../../../chunks/private.js\";\nconst actions = {\n  async default({ url, locals, request }) {\n    const referer = request.headers.get(\"referer\");\n    let redirectURI = `${(referer ? new URL(referer) : url).origin}${base}/login/callback`;\n    if (url.searchParams.has(\"callback\")) {\n      const callback = url.searchParams.get(\"callback\") || redirectURI;\n      if (ALTERNATIVE_REDIRECT_URLS.includes(callback)) {\n        redirectURI = callback;\n      }\n    }\n    const authorizationUrl = await getOIDCAuthorizationUrl(\n      { redirectURI },\n      { sessionId: locals.sessionId }\n    );\n    throw redirect(303, authorizationUrl);\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/login/_page.server.ts.js';\n\nexport const index = 8;\nexport { server };\nexport const server_id = \"src/routes/login/+page.server.ts\";\nexport const imports = [];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;;;;;;;;;;AAIA,MAAM,OAAO,GAAG;AAChB,EAAE,MAAM,OAAO,CAAC,EAAE,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;AAC1C,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;AACnD,IAAI,IAAI,WAAW,GAAG,CAAC,EAAE,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,GAAG,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;AAC3F,IAAI,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAC1C,MAAM,MAAM,QAAQ,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,WAAW,CAAC;AACvE,MAAM,IAAI,yBAAyB,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;AACxD,QAAQ,WAAW,GAAG,QAAQ,CAAC;AAC/B,OAAO;AACP,KAAK;AACL,IAAI,MAAM,gBAAgB,GAAG,MAAM,uBAAuB;AAC1D,MAAM,EAAE,WAAW,EAAE;AACrB,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC,SAAS,EAAE;AACrC,KAAK,CAAC;AACN,IAAI,MAAM,QAAQ,CAAC,GAAG,EAAE,gBAAgB,CAAC,CAAC;AAC1C,GAAG;AACH,CAAC;;;;;;;AClBW,MAAC,KAAK,GAAG,EAAE;AAEX,MAAC,SAAS,GAAG,mCAAmC;AAChD,MAAC,OAAO,GAAG,GAAG;AACd,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}