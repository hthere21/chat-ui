{"version":3,"file":"buildSubtree-46fc8b76.js","sources":["../../../.svelte-kit/adapter-node/chunks/buildSubtree.js"],"sourcesContent":["function isMessageId(id) {\n  return id.split(\"-\").length === 5;\n}\nfunction buildSubtree(conv, id) {\n  if (!conv.rootMessageId) {\n    if (conv.messages.length === 0)\n      return [];\n    const index = conv.messages.findIndex((m) => m.id === id);\n    if (index === -1)\n      throw new Error(\"Message not found\");\n    return conv.messages.slice(0, index + 1);\n  } else {\n    const message = conv.messages.find((m) => m.id === id);\n    if (!message)\n      throw new Error(\"Message not found\");\n    return [\n      ...message.ancestors?.map((ancestorId) => {\n        const ancestor = conv.messages.find((m) => m.id === ancestorId);\n        if (!ancestor)\n          throw new Error(\"Ancestor not found\");\n        return ancestor;\n      }) ?? [],\n      message\n    ];\n  }\n}\nexport {\n  buildSubtree as b,\n  isMessageId as i\n};\n"],"names":[],"mappings":"AAAA,SAAS,WAAW,CAAC,EAAE,EAAE;AACzB,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;AACpC,CAAC;AACD,SAAS,YAAY,CAAC,IAAI,EAAE,EAAE,EAAE;AAChC,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;AAC3B,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC;AAClC,MAAM,OAAO,EAAE,CAAC;AAChB,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AAC9D,IAAI,IAAI,KAAK,KAAK,CAAC,CAAC;AACpB,MAAM,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;AAC3C,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;AAC7C,GAAG,MAAM;AACT,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AAC3D,IAAI,IAAI,CAAC,OAAO;AAChB,MAAM,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;AAC3C,IAAI,OAAO;AACX,MAAM,GAAG,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,UAAU,KAAK;AAChD,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC;AACxE,QAAQ,IAAI,CAAC,QAAQ;AACrB,UAAU,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;AAChD,QAAQ,OAAO,QAAQ,CAAC;AACxB,OAAO,CAAC,IAAI,EAAE;AACd,MAAM,OAAO;AACb,KAAK,CAAC;AACN,GAAG;AACH;;;;"}