import{s as mt,e as _,a as P,t as I,o as ft,c as g,f as m,g as S,b as N,d as U,q as nt,h as s,j as c,i as j,r as pt,u as lt,k as J,v as it,n as rt,w as ht,l as ot,x as _t,y as ct}from"../chunks/scheduler.6a9d17f6.js";import{S as gt,i as vt}from"../chunks/index.f8ec6462.js";import{b as w}from"../chunks/singletons.7e5ab6ef.js";import{c as bt}from"../chunks/clickOutside.d00b6908.js";import{a as yt,g as X}from"../chunks/navigation.b63c9ed8.js";import{u as kt}from"../chunks/settings.e8a11d43.js";import{e as Et,a as wt}from"../chunks/forms.15847325.js";import{P as R}from"../chunks/public.b85583f5.js";import{p as At}from"../chunks/stores.7cb53fc7.js";function Ct(n){let t,l=n[0].assistant.name[0]+"",a;return{c(){t=_("div"),a=I(l),this.h()},l(e){t=g(e,"DIV",{class:!0});var r=N(t);a=U(r,l),r.forEach(m),this.h()},h(){s(t,"class","flex size-16 flex-none items-center justify-center rounded-full bg-gray-300 text-2xl font-bold uppercase text-gray-500 sm:size-24")},m(e,r){j(e,t,r),c(t,a)},p(e,r){r&1&&l!==(l=e[0].assistant.name[0]+"")&&J(a,l)},d(e){e&&m(t)}}}function Tt(n){let t,l;return{c(){t=_("img"),this.h()},l(a){t=g(a,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){s(t,"class","size-16 flex-none rounded-full object-cover sm:size-24"),ct(t.src,l=w+"/settings/assistants/"+n[0].assistant._id+"/avatar.jpg?hash="+n[0].assistant.avatar)||s(t,"src",l),s(t,"alt","avatar")},m(a,e){j(a,t,e)},p(a,e){e&1&&!ct(t.src,l=w+"/settings/assistants/"+a[0].assistant._id+"/avatar.jpg?hash="+a[0].assistant.avatar)&&s(t,"src",l)},d(a){a&&m(t)}}}function ut(n){let t,l=n[0].assistant.description+"",a;return{c(){t=_("h3"),a=I(l),this.h()},l(e){t=g(e,"H3",{class:!0});var r=N(t);a=U(r,l),r.forEach(m),this.h()},h(){s(t,"class","line-clamp-6 text-balance text-sm text-gray-500")},m(e,r){j(e,t,r),c(t,a)},p(e,r){r&1&&l!==(l=e[0].assistant.description+"")&&J(a,l)},d(e){e&&m(t)}}}function dt(n){let t,l,a,e=n[0].assistant.createdByName+"",r,f;return{c(){t=_("p"),l=I("Created by "),a=_("a"),r=I(e),this.h()},l(h){t=g(h,"P",{class:!0});var p=N(t);l=U(p,"Created by "),a=g(p,"A",{class:!0,href:!0});var A=N(a);r=U(A,e),A.forEach(m),p.forEach(m),this.h()},h(){s(a,"class","hover:underline"),s(a,"href",f=w+"/assistants?user="+n[0].assistant.createdByName),s(t,"class","mt-2 text-sm text-gray-500")},m(h,p){j(h,t,p),c(t,l),c(t,a),c(a,r)},p(h,p){p&1&&e!==(e=h[0].assistant.createdByName+"")&&J(r,e),p&1&&f!==(f=w+"/assistants?user="+h[0].assistant.createdByName)&&s(a,"href",f)},d(h){h&&m(t)}}}function Mt(n){let t,l,a,e,r,f,h,p,A,C,u,B,d,x,O,z=n[0].assistant.name+"",q,K,D,G,T,Y="Cancel",Q,E,M,Z="Start chatting",H,L,V,W,$;function tt(i,o){return i[0].assistant.avatar?Tt:Ct}let F=tt(n),k=F(n),v=n[0].assistant.description&&ut(n),b=n[0].assistant.createdByName&&dt(n);return{c(){t=_("meta"),a=_("meta"),e=_("meta"),f=_("meta"),p=_("meta"),C=_("meta"),u=P(),B=_("div"),d=_("dialog"),k.c(),x=P(),O=_("h1"),q=I(z),K=P(),v&&v.c(),D=P(),b&&b.c(),G=P(),T=_("button"),T.textContent=Y,Q=P(),E=_("form"),M=_("button"),M.textContent=Z,this.h()},l(i){const o=ft("svelte-f5y8vl",document.head);t=g(o,"META",{property:!0,content:!0}),a=g(o,"META",{property:!0,content:!0}),e=g(o,"META",{property:!0,content:!0}),f=g(o,"META",{property:!0,content:!0}),p=g(o,"META",{property:!0,content:!0}),C=g(o,"META",{name:!0,content:!0}),o.forEach(m),u=S(i),B=g(i,"DIV",{class:!0});var et=N(B);d=g(et,"DIALOG",{class:!0});var y=N(d);k.l(y),x=S(y),O=g(y,"H1",{class:!0});var at=N(O);q=U(at,z),at.forEach(m),K=S(y),v&&v.l(y),D=S(y),b&&b.l(y),G=S(y),T=g(y,"BUTTON",{class:!0,"data-svelte-h":!0}),nt(T)!=="svelte-1c2du3v"&&(T.textContent=Y),Q=S(y),E=g(y,"FORM",{method:!0,action:!0,class:!0});var st=N(E);M=g(st,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),nt(M)!=="svelte-1me4cd7"&&(M.textContent=Z),st.forEach(m),y.forEach(m),et.forEach(m),this.h()},h(){s(t,"property","og:title"),s(t,"content",l=n[0].assistant.name+" - "+R),s(a,"property","og:type"),s(a,"content","link"),s(e,"property","og:description"),s(e,"content",r=`Use the ${n[0].assistant.name} assistant inside of ${R}`),s(f,"property","og:image"),s(f,"content",h=n[2].url.origin+w+"/assistant/"+n[0].assistant._id+"/thumbnail.png"),s(p,"property","og:url"),s(p,"content",A=n[2].url.href),s(C,"name","twitter:card"),s(C,"content","summary_large_image"),s(O,"class","text-balance text-xl font-bold"),s(T,"class","mt-4 w-full rounded-full bg-gray-200 px-4 py-2 font-semibold text-gray-700"),s(M,"type","submit"),s(M,"class","w-full rounded-full bg-black px-4 py-3 font-semibold text-white"),s(E,"method","POST"),s(E,"action",H=w+"/settings/assistants/"+n[0].assistant._id+"?/subscribe"),s(E,"class","w-full"),d.open=!0,s(d,"class","z-10 flex flex-col content-center items-center gap-x-10 gap-y-3 overflow-hidden rounded-2xl bg-white p-4 pt-6 text-center shadow-2xl outline-none max-sm:w-[85dvw] max-sm:px-6 md:w-96 md:grid-cols-3 md:grid-rows-[auto,1fr] md:p-8"),s(B,"class","fixed inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm dark:bg-black/50")},m(i,o){c(document.head,t),c(document.head,a),c(document.head,e),c(document.head,f),c(document.head,p),c(document.head,C),j(i,u,o),j(i,B,o),c(B,d),k.m(d,null),c(d,x),c(d,O),c(O,q),c(d,K),v&&v.m(d,null),c(d,D),b&&b.m(d,null),c(d,G),c(d,T),c(d,Q),c(d,E),c(E,M),W||($=[pt(T,"click",n[5]),lt(L=Et.call(null,E,n[6])),lt(V=bt.call(null,d,n[7]))],W=!0)},p(i,[o]){o&1&&l!==(l=i[0].assistant.name+" - "+R)&&s(t,"content",l),o&1&&r!==(r=`Use the ${i[0].assistant.name} assistant inside of ${R}`)&&s(e,"content",r),o&5&&h!==(h=i[2].url.origin+w+"/assistant/"+i[0].assistant._id+"/thumbnail.png")&&s(f,"content",h),o&4&&A!==(A=i[2].url.href)&&s(p,"content",A),F===(F=tt(i))&&k?k.p(i,o):(k.d(1),k=F(i),k&&(k.c(),k.m(d,x))),o&1&&z!==(z=i[0].assistant.name+"")&&J(q,z),i[0].assistant.description?v?v.p(i,o):(v=ut(i),v.c(),v.m(d,D)):v&&(v.d(1),v=null),i[0].assistant.createdByName?b?b.p(i,o):(b=dt(i),b.c(),b.m(d,G)):b&&(b.d(1),b=null),o&1&&H!==(H=w+"/settings/assistants/"+i[0].assistant._id+"?/subscribe")&&s(E,"action",H),L&&it(L.update)&&o&9&&L.update.call(null,i[6]),V&&it(V.update)&&o&2&&V.update.call(null,i[7])},i:rt,o:rt,d(i){i&&(m(u),m(B)),m(t),m(a),m(e),m(f),m(p),m(C),k.d(),v&&v.d(),b&&b.d(),W=!1,ht($)}}}function Nt(n,t,l){let a,e;ot(n,At,u=>l(2,a=u));let{data:r}=t,f=w;yt(({from:u})=>{u!=null&&u.url.pathname.includes("settings")||l(1,f=(u==null?void 0:u.url.toString())||f)});const h=kt();ot(n,h,u=>l(3,e=u));const p=()=>{X(f)},A=()=>async({result:u})=>{u.type==="success"?(_t(h,e.activeModel=r.assistant._id,e),X(`${w}`||"/")):await wt(u)},C=()=>{X(f)};return n.$$set=u=>{"data"in u&&l(0,r=u.data)},[r,f,a,e,h,p,A,C]}class qt extends gt{constructor(t){super(),vt(this,t,Nt,Mt,mt,{data:0})}}export{qt as component};
