import{b as le}from"../chunks/singletons.dcb5d507.js";import{r as ke}from"../chunks/index.d7eb2526.js";import{s as Ee,e as w,t as V,a as P,c as k,b as U,d as B,f as _,g as D,q as ve,h as f,i as O,j as u,L as de,r as se,J as $e,k as oe,w as Ue,l as ce,x as te,n as we}from"../chunks/scheduler.6a9d17f6.js";import{S as ye,i as Ae,c as R,a as J,m as X,t as E,d as y,f as re,e as F,g as ae}from"../chunks/index.f8ec6462.js";import{p as Ce}from"../chunks/stores.c2158893.js";import{u as Pe}from"../chunks/settings.053bb39b.js";import{C as De}from"../chunks/CopyToClipBoardBtn.abd1fd98.js";import{A as ne}from"../chunks/arrow-up-right.f5284a17.js";import{L as Te}from"../chunks/link.7eccf3a0.js";async function Me({parent:l,params:e}){const r=await l(),n=r.models.find(({id:o})=>o===e.model);if(!n||n.unlisted)throw ke(302,`${le}/settings`);return r}const Je=Object.freeze(Object.defineProperty({__proto__:null,load:Me},Symbol.toStringTag,{value:"Module"}));function pe(l){let e,r=l[2].description+"",n;return{c(){e=w("p"),n=V(r),this.h()},l(o){e=k(o,"P",{class:!0});var a=U(e);n=B(a,r),a.forEach(_),this.h()},h(){f(e,"class","whitespace-pre-wrap text-gray-600")},m(o,a){O(o,e,a),u(e,n)},p(o,a){a&4&&r!==(r=o[2].description+"")&&oe(n,r)},d(o){o&&_(e)}}}function he(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=w("a"),R(r.$$.fragment),n=V(`
				Model page`),this.h()},l(t){e=k(t,"A",{href:!0,target:!0,rel:!0,class:!0});var s=U(e);J(r.$$.fragment,s),n=B(s,`
				Model page`),s.forEach(_),this.h()},h(){f(e,"href",o=l[2].modelUrl||"https://huggingface.co/"+l[2].name),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","flex items-center truncate underline underline-offset-2")},m(t,s){O(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].modelUrl||"https://huggingface.co/"+t[2].name))&&f(e,"href",o)},i(t){a||(E(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&_(e),F(r)}}}function _e(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=w("a"),R(r.$$.fragment),n=V(`
				Dataset page`),this.h()},l(t){e=k(t,"A",{href:!0,target:!0,rel:!0,class:!0});var s=U(e);J(r.$$.fragment,s),n=B(s,`
				Dataset page`),s.forEach(_),this.h()},h(){f(e,"href",o=l[2].datasetUrl||"https://huggingface.co/datasets/"+l[2].datasetName),f(e,"target","_blank"),f(e,"rel","noreferrer"),f(e,"class","flex items-center truncate underline underline-offset-2")},m(t,s){O(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].datasetUrl||"https://huggingface.co/datasets/"+t[2].datasetName))&&f(e,"href",o)},i(t){a||(E(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&_(e),F(r)}}}function ge(l){let e,r,n,o,a;return r=new ne({props:{class:"mr-1.5 shrink-0 text-xs "}}),{c(){e=w("a"),R(r.$$.fragment),n=V(`
				Model website`),this.h()},l(t){e=k(t,"A",{href:!0,target:!0,class:!0,rel:!0});var s=U(e);J(r.$$.fragment,s),n=B(s,`
				Model website`),s.forEach(_),this.h()},h(){f(e,"href",o=l[2].websiteUrl),f(e,"target","_blank"),f(e,"class","flex items-center truncate underline underline-offset-2"),f(e,"rel","noreferrer")},m(t,s){O(t,e,s),X(r,e,null),u(e,n),a=!0},p(t,s){(!a||s&4&&o!==(o=t[2].websiteUrl))&&f(e,"href",o)},i(t){a||(E(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){t&&_(e),F(r)}}}function Ne(l){let e,r,n,o;return r=new Te({}),{c(){e=w("div"),R(r.$$.fragment),n=V("Copy direct link to model"),this.h()},l(a){e=k(a,"DIV",{class:!0});var t=U(e);J(r.$$.fragment,t),n=B(t,"Copy direct link to model"),t.forEach(_),this.h()},h(){f(e,"class","flex items-center gap-1.5 hover:underline")},m(a,t){O(a,e,t),X(r,e,null),u(e,n),o=!0},p:we,i(a){o||(E(r.$$.fragment,a),o=!0)},o(a){y(r.$$.fragment,a),o=!1},d(a){a&&_(e),F(r)}}}function be(l){let e,r="Reset",n,o;return{c(){e=w("button"),e.textContent=r,this.h()},l(a){e=k(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1ehlk8p"&&(e.textContent=r),this.h()},h(){f(e,"class","ml-auto underline decoration-gray-300 hover:decoration-gray-700")},m(a,t){O(a,e,t),n||(o=se(e,"click",$e(l[7])),n=!0)},p:we,d(a){a&&_(e),n=!1,o()}}}function Se(l){let e,r,n,o=l[0].params.model+"",a,t,s,d,j,L,q,$,z,g,H=l[3]?"Active model":"Activate",G,K,Y,T,A,I,ie="System Prompt",Z,x,C,M,ee,fe,b=l[2].description&&pe(l),c=l[2].modelUrl&&he(l),p=(l[2].datasetName||l[2].datasetUrl)&&_e(l),h=l[2].websiteUrl&&ge(l);$=new De({props:{value:l[0].url.origin+le+"?model="+l[2].id,classNames:"!border-none !shadow-none !py-0 !px-1 !rounded-md",$$slots:{default:[Ne]},$$scope:{ctx:l}}});let v=l[4]&&be(l);return{c(){e=w("div"),r=w("div"),n=w("h2"),a=V(o),t=P(),b&&b.c(),s=P(),d=w("div"),c&&c.c(),j=P(),p&&p.c(),L=P(),h&&h.c(),q=P(),R($.$$.fragment),z=P(),g=w("button"),G=V(H),Y=P(),T=w("div"),A=w("div"),I=w("h3"),I.textContent=ie,Z=P(),v&&v.c(),x=P(),C=w("textarea"),this.h()},l(i){e=k(i,"DIV",{class:!0});var m=U(e);r=k(m,"DIV",{class:!0});var N=U(r);n=k(N,"H2",{class:!0});var me=U(n);a=B(me,o),me.forEach(_),t=D(N),b&&b.l(N),N.forEach(_),s=D(m),d=k(m,"DIV",{class:!0});var S=U(d);c&&c.l(S),j=D(S),p&&p.l(S),L=D(S),h&&h.l(S),q=D(S),J($.$$.fragment,S),S.forEach(_),z=D(m),g=k(m,"BUTTON",{class:!0,name:!0});var ue=U(g);G=B(ue,H),ue.forEach(_),Y=D(m),T=k(m,"DIV",{class:!0});var Q=U(T);A=k(Q,"DIV",{class:!0});var W=U(A);I=k(W,"H3",{class:!0,"data-svelte-h":!0}),ve(I)!=="svelte-164tosc"&&(I.textContent=ie),Z=D(W),v&&v.l(W),W.forEach(_),x=D(Q),C=k(Q,"TEXTAREA",{rows:!0,class:!0}),U(C).forEach(_),Q.forEach(_),m.forEach(_),this.h()},h(){f(n,"class","text-lg font-semibold md:text-xl"),f(r,"class","mb-5 flex flex-col gap-1.5"),f(d,"class","flex flex-wrap items-center gap-2 md:gap-4"),f(g,"class",K=(l[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"),g.disabled=l[3],f(g,"name","Activate model"),f(I,"class","mb-1.5 text-lg font-semibold text-gray-800"),f(A,"class","flex w-full flex-row content-between"),f(C,"rows","10"),f(C,"class","w-full resize-none rounded-md border-2 bg-gray-100 p-2"),f(T,"class","flex w-full flex-col gap-2"),f(e,"class","flex flex-col items-start")},m(i,m){O(i,e,m),u(e,r),u(r,n),u(n,a),u(r,t),b&&b.m(r,null),u(e,s),u(e,d),c&&c.m(d,null),u(d,j),p&&p.m(d,null),u(d,L),h&&h.m(d,null),u(d,q),X($,d,null),u(e,z),u(e,g),u(g,G),u(e,Y),u(e,T),u(T,A),u(A,I),u(A,Z),v&&v.m(A,null),u(T,x),u(T,C),de(C,l[1].customPrompts[l[0].params.model]),M=!0,ee||(fe=[se(g,"click",$e(l[6])),se(C,"input",l[8])],ee=!0)},p(i,[m]){(!M||m&1)&&o!==(o=i[0].params.model+"")&&oe(a,o),i[2].description?b?b.p(i,m):(b=pe(i),b.c(),b.m(r,null)):b&&(b.d(1),b=null),i[2].modelUrl?c?(c.p(i,m),m&4&&E(c,1)):(c=he(i),c.c(),E(c,1),c.m(d,j)):c&&(ae(),y(c,1,1,()=>{c=null}),re()),i[2].datasetName||i[2].datasetUrl?p?(p.p(i,m),m&4&&E(p,1)):(p=_e(i),p.c(),E(p,1),p.m(d,L)):p&&(ae(),y(p,1,1,()=>{p=null}),re()),i[2].websiteUrl?h?(h.p(i,m),m&4&&E(h,1)):(h=ge(i),h.c(),E(h,1),h.m(d,q)):h&&(ae(),y(h,1,1,()=>{h=null}),re());const N={};m&5&&(N.value=i[0].url.origin+le+"?model="+i[2].id),m&512&&(N.$$scope={dirty:m,ctx:i}),$.$set(N),(!M||m&8)&&H!==(H=i[3]?"Active model":"Activate")&&oe(G,H),(!M||m&8&&K!==(K=(i[3]?"bg-gray-100":"bg-black text-white")+" my-8 flex items-center rounded-full px-3 py-1"))&&f(g,"class",K),(!M||m&8)&&(g.disabled=i[3]),i[4]?v?v.p(i,m):(v=be(i),v.c(),v.m(A,null)):v&&(v.d(1),v=null),m&3&&de(C,i[1].customPrompts[i[0].params.model])},i(i){M||(E(c),E(p),E(h),E($.$$.fragment,i),M=!0)},o(i){y(c),y(p),y(h),y($.$$.fragment,i),M=!1},d(i){i&&_(e),b&&b.d(),c&&c.d(),p&&p.d(),h&&h.d(),F($),v&&v.d(),ee=!1,Ue(fe)}}}function Ie(l,e,r){let n,o,a,t,s;ce(l,Ce,$=>r(0,t=$));const d=Pe();ce(l,d,$=>r(1,s=$));const j=()=>{te(d,s.activeModel=t.params.model,s)},L=()=>te(d,s.customPrompts[t.params.model]=a.preprompt,s);function q(){s.customPrompts[t.params.model]=this.value,d.set(s)}return l.$$.update=()=>{var $,z;l.$$.dirty&3&&s.customPrompts[t.params.model]===void 0&&te(d,s.customPrompts={...s.customPrompts,[t.params.model]:(($=t.data.models.find(g=>g.id===t.params.model))==null?void 0:$.preprompt)||""},s),l.$$.dirty&3&&r(4,n=s.customPrompts[t.params.model]!==((z=t.data.models.find(g=>g.id===t.params.model))==null?void 0:z.preprompt)),l.$$.dirty&3&&r(3,o=s.activeModel===t.params.model),l.$$.dirty&1&&r(2,a=t.data.models.find(g=>g.id===t.params.model))},[t,s,a,o,n,d,j,L,q]}class Xe extends ye{constructor(e){super(),Ae(this,e,Ie,Se,Ee,{})}}export{Xe as component,Je as universal};
