import{s as fe,z as Z,A as be,H as pe,B as ye,b as x,C as ke,f as c,D as re,i as N,n as ae,E as le,e as k,c as w,h as d,t as H,d as L,F as se,l as rt,a as M,g as S,j as v,M as at,K as Ue,k as G,o as nt,q as Ae,L as Te,T as it,ag as ze,r as He,w as ot,ah as ut,y as Le}from"../chunks/scheduler.6a9d17f6.js";import{S as ce,i as me,g as ge,d as D,f as _e,t as T,c as J,a as Q,m as W,e as Y}from"../chunks/index.f8ec6462.js";import{e as de,u as ft,o as ct}from"../chunks/each.81050b20.js";import{i as lt}from"../chunks/isHuggingChat.6986ff23.js";import{g as mt}from"../chunks/navigation.b63c9ed8.js";import{b as ue}from"../chunks/singletons.7e5ab6ef.js";import{p as st}from"../chunks/stores.7cb53fc7.js";import{A as ht}from"../chunks/add.51f471f2.js";import{C as dt}from"../chunks/close.5676f196.js";import{g as we}from"../chunks/spread.84d39b6c.js";function gt(s){let e,t,a='<path fill="currentColor" d="M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2ZM4 16a11.915 11.915 0 0 1 .7-4H10l5 4l-2.8 3.693A1 1 0 0 0 12.293 21L15 24v3.95A12.01 12.01 0 0 1 4 16Zm17.435 10.685l2.546-7.7a1 1 0 0 0-.367-.985L15 11l2-2h5.28a1 1 0 0 0 .948-.684l.495-1.486a11.974 11.974 0 0 1-2.288 19.855Z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=Z(n,r[l]);return{c(){e=be("svg"),t=new pe(!0),this.h()},l(l){e=ye(l,"svg",{viewBox:!0,width:!0,height:!0});var i=x(e);t=ke(i,!0),i.forEach(c),this.h()},h(){t.a=null,re(e,n)},m(l,i){N(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=we(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&c(e)}}}function _t(s,e,t){return s.$$set=a=>{t(0,e=Z(Z({},e),le(a)))},e=le(e),[e]}class vt extends ce{constructor(e){super(),me(this,e,_t,gt,fe,{})}}function bt(s){let e,t,a='<path fill="currentColor" d="M30 30h-2v-5a5.006 5.006 0 0 0-5-5v-2a7.008 7.008 0 0 1 7 7zm-8 0h-2v-5a5.006 5.006 0 0 0-5-5H9a5.006 5.006 0 0 0-5 5v5H2v-5a7.008 7.008 0 0 1 7-7h6a7.008 7.008 0 0 1 7 7zM20 2v2a5 5 0 0 1 0 10v2a7 7 0 0 0 0-14zm-8 2a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=Z(n,r[l]);return{c(){e=be("svg"),t=new pe(!0),this.h()},l(l){e=ye(l,"svg",{viewBox:!0,width:!0,height:!0});var i=x(e);t=ke(i,!0),i.forEach(c),this.h()},h(){t.a=null,re(e,n)},m(l,i){N(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=we(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&c(e)}}}function pt(s,e,t){return s.$$set=a=>{t(0,e=Z(Z({},e),le(a)))},e=le(e),[e]}class yt extends ce{constructor(e){super(),me(this,e,pt,bt,fe,{})}}function X(s,e){const t=new URL(s),{newKeys:a,existingKeys:r}=e;if(r){const{behaviour:n,keys:l}=r;if(n==="delete")for(const i of l)t.searchParams.delete(i);else{const i=l;for(const f of[...t.searchParams.keys()])i.includes(f)||t.searchParams.delete(f)}}if(a)for(const[n,l]of Object.entries(a))l?t.searchParams.set(n,l):t.searchParams.delete(n);return t.toString()}function kt(s){let e,t,a='<path fill="currentColor" d="m20 24l-10-8l10-8z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=Z(n,r[l]);return{c(){e=be("svg"),t=new pe(!0),this.h()},l(l){e=ye(l,"svg",{viewBox:!0,width:!0,height:!0});var i=x(e);t=ke(i,!0),i.forEach(c),this.h()},h(){t.a=null,re(e,n)},m(l,i){N(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=we(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&c(e)}}}function wt(s,e,t){return s.$$set=a=>{t(0,e=Z(Z({},e),le(a)))},e=le(e),[e]}class xt extends ce{constructor(e){super(),me(this,e,wt,kt,fe,{})}}function It(s){let e,t,a='<path fill="currentColor" d="m12 8l10 8l-10 8z"/>',r=[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},s[0]],n={};for(let l=0;l<r.length;l+=1)n=Z(n,r[l]);return{c(){e=be("svg"),t=new pe(!0),this.h()},l(l){e=ye(l,"svg",{viewBox:!0,width:!0,height:!0});var i=x(e);t=ke(i,!0),i.forEach(c),this.h()},h(){t.a=null,re(e,n)},m(l,i){N(l,e,i),t.m(a,e)},p(l,[i]){re(e,n=we(r,[{viewBox:"0 0 32 32"},{width:"1.2em"},{height:"1.2em"},i&1&&l[0]]))},i:ae,o:ae,d(l){l&&c(e)}}}function Et(s,e,t){return s.$$set=a=>{t(0,e=Z(Z({},e),le(a)))},e=le(e),[e]}class Pt extends ce{constructor(e){super(),me(this,e,Et,It,fe,{})}}function Ct(s){let e,t,a;return t=new Pt({props:{classNames:"ml-1.5"}}),{c(){e=H(`Next
		`),J(t.$$.fragment)},l(r){e=L(r,`Next
		`),Q(t.$$.fragment,r)},m(r,n){N(r,e,n),W(t,r,n),a=!0},i(r){a||(T(t.$$.fragment,r),a=!0)},o(r){D(t.$$.fragment,r),a=!1},d(r){r&&c(e),Y(t,r)}}}function Nt(s){let e,t,a;return e=new xt({props:{classNames:"mr-1.5"}}),{c(){J(e.$$.fragment),t=H(`
		Previous`)},l(r){Q(e.$$.fragment,r),t=L(r,`
		Previous`)},m(r,n){W(e,r,n),N(r,t,n),a=!0},i(r){a||(T(e.$$.fragment,r),a=!0)},o(r){D(e.$$.fragment,r),a=!1},d(r){r&&c(t),Y(e,r)}}}function At(s){let e,t,a,r,n;const l=[Nt,Ct],i=[];function f(o,b){return o[1]==="previous"?0:1}return t=f(s),a=i[t]=l[t](s),{c(){e=k("a"),a.c(),this.h()},l(o){e=w(o,"A",{class:!0,href:!0});var b=x(e);a.l(b),b.forEach(c),this.h()},h(){d(e,"class",r="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 "+(s[2]?"pointer-events-none opacity-50":"")),d(e,"href",s[0])},m(o,b){N(o,e,b),i[t].m(e,null),n=!0},p(o,[b]){let m=t;t=f(o),t!==m&&(ge(),D(i[m],1,1,()=>{i[m]=null}),_e(),a=i[t],a||(a=i[t]=l[t](o),a.c()),T(a,1),a.m(e,null)),(!n||b&4&&r!==(r="flex items-center rounded-lg px-2.5 py-1 hover:bg-gray-50 dark:hover:bg-gray-800 "+(o[2]?"pointer-events-none opacity-50":"")))&&d(e,"class",r),(!n||b&1)&&d(e,"href",o[0])},i(o){n||(T(a),n=!0)},o(o){D(a),n=!1},d(o){o&&c(e),i[t].d()}}}function Tt(s,e,t){let{href:a}=e,{direction:r}=e,{isDisabled:n=!1}=e;return s.$$set=l=>{"href"in l&&t(0,a=l.href),"direction"in l&&t(1,r=l.direction),"isDisabled"in l&&t(2,n=l.isDisabled)},[a,r,n]}class Ve extends ce{constructor(e){super(),me(this,e,Tt,At,fe,{href:0,direction:1,isDisabled:2})}}function qe(s,e,t){const a=s.slice();return a[9]=e[t],a}function Oe(s){let e,t,a,r,n,l,i,f,o,b;r=new Ve({props:{href:X(s[3].url,{newKeys:{p:(s[2]-1).toString()}}),direction:"previous",isDisabled:s[2]-1<0}});let m=de(s[4]),u=[];for(let h=0;h<m.length;h+=1)u[h]=Re(qe(s,m,h));return f=new Ve({props:{href:X(s[3].url,{newKeys:{p:(s[2]+1).toString()}}),direction:"next",isDisabled:s[2]+1>=s[1]}}),{c(){e=k("nav"),t=k("ul"),a=k("li"),J(r.$$.fragment),n=M();for(let h=0;h<u.length;h+=1)u[h].c();l=M(),i=k("li"),J(f.$$.fragment),this.h()},l(h){e=w(h,"NAV",{});var _=x(e);t=w(_,"UL",{class:!0});var p=x(t);a=w(p,"LI",{});var y=x(a);Q(r.$$.fragment,y),y.forEach(c),n=S(p);for(let C=0;C<u.length;C+=1)u[C].l(p);l=S(p),i=w(p,"LI",{});var P=x(i);Q(f.$$.fragment,P),P.forEach(c),p.forEach(c),_.forEach(c),this.h()},h(){d(t,"class",o="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center dark:text-gray-300 "+s[0])},m(h,_){N(h,e,_),v(e,t),v(t,a),W(r,a,null),v(t,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);v(t,l),v(t,i),W(f,i,null),b=!0},p(h,_){const p={};if(_&12&&(p.href=X(h[3].url,{newKeys:{p:(h[2]-1).toString()}})),_&4&&(p.isDisabled=h[2]-1<0),r.$set(p),_&60){m=de(h[4]);let P;for(P=0;P<m.length;P+=1){const C=qe(h,m,P);u[P]?u[P].p(C,_):(u[P]=Re(C),u[P].c(),u[P].m(t,l))}for(;P<u.length;P+=1)u[P].d(1);u.length=m.length}const y={};_&12&&(y.href=X(h[3].url,{newKeys:{p:(h[2]+1).toString()}})),_&6&&(y.isDisabled=h[2]+1>=h[1]),f.$set(y),(!b||_&1&&o!==(o="flex select-none items-center justify-between space-x-2 text-gray-700 sm:justify-center dark:text-gray-300 "+h[0]))&&d(t,"class",o)},i(h){b||(T(r.$$.fragment,h),T(f.$$.fragment,h),b=!0)},o(h){D(r.$$.fragment,h),D(f.$$.fragment,h),b=!1},d(h){h&&c(e),Y(r),at(u,h),Y(f)}}}function Re(s){let e,t,a=(s[9]===s[5]?"...":s[9]+1)+"",r,n,l;return{c(){e=k("li"),t=k("a"),r=H(a),this.h()},l(i){e=w(i,"LI",{class:!0});var f=x(e);t=w(f,"A",{class:!0,href:!0});var o=x(t);r=L(o,a),o.forEach(c),f.forEach(c),this.h()},h(){d(t,"class",n="rounded-lg px-2.5 py-1 "+(s[2]===s[9]?"bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-800 dark:text-yellow-500 dark:ring-gray-700":"")),d(t,"href",l=X(s[3].url,{newKeys:{p:s[9].toString()}})),Ue(t,"pointer-events-none",s[9]===s[5]||s[2]===s[9]),d(e,"class","hidden sm:block")},m(i,f){N(i,e,f),v(e,t),v(t,r)},p(i,f){f&16&&a!==(a=(i[9]===i[5]?"...":i[9]+1)+"")&&G(r,a),f&20&&n!==(n="rounded-lg px-2.5 py-1 "+(i[2]===i[9]?"bg-gray-50 font-semibold ring-1 ring-inset ring-gray-200 dark:bg-gray-800 dark:text-yellow-500 dark:ring-gray-700":""))&&d(t,"class",n),f&24&&l!==(l=X(i[3].url,{newKeys:{p:i[9].toString()}}))&&d(t,"href",l),f&52&&Ue(t,"pointer-events-none",i[9]===i[5]||i[2]===i[9])},d(i){i&&c(e)}}}function Bt(s){let e,t,a=s[1]>1&&Oe(s);return{c(){a&&a.c(),e=se()},l(r){a&&a.l(r),e=se()},m(r,n){a&&a.m(r,n),N(r,e,n),t=!0},p(r,[n]){r[1]>1?a?(a.p(r,n),n&2&&T(a,1)):(a=Oe(r),a.c(),T(a,1),a.m(e.parentNode,e)):a&&(ge(),D(a,1,1,()=>{a=null}),_e())},i(r){t||(T(a),t=!0)},o(r){D(a),t=!1},d(r){r&&c(e),a&&a.d(r)}}}function Dt(s,e,t){let a,r,n,l;rt(s,st,u=>t(3,l=u));let{classNames:i=""}=e,{numItemsPerPage:f}=e,{numTotalItems:o}=e;const b=-1;function m(u,h){let _=[];const P=h-1;_=[u];for(let C=1;C<2+1;C++){const A=u+C;A>P||_.push(A)}P-_[_.length-1]>1?_.push(b,P):P-_[_.length-1]===1&&_.push(P);for(let C=1;C<2+1;C++){const A=u-C;A<0||_.unshift(A)}return _[0]-0>1?_.unshift(0,b):_[0]-0===1&&_.unshift(0),_}return s.$$set=u=>{"classNames"in u&&t(0,i=u.classNames),"numItemsPerPage"in u&&t(6,f=u.numItemsPerPage),"numTotalItems"in u&&t(7,o=u.numTotalItems)},s.$$.update=()=>{s.$$.dirty&192&&t(1,a=Math.ceil(o/f)),s.$$.dirty&8&&t(2,r=parseInt(l.url.searchParams.get("p")??"0")),s.$$.dirty&6&&t(4,n=m(r,a))},[i,a,r,l,n,b,f,o]}class Kt extends ce{constructor(e){super(),me(this,e,Dt,Bt,fe,{classNames:0,numItemsPerPage:6,numTotalItems:7})}}function Xe(s){const t=[{min:0,max:1,label:"1"},{min:2,max:9,label:"1-10"},{min:10,max:49,label:"10+"},{min:50,max:99,label:"50+"},{min:100,max:299,label:"100+"},{min:300,max:499,label:"300+"},{min:500,max:999,label:"500+"},{min:1e3,max:2999,label:"1k+"},{min:3e3,max:4999,label:"3k+"},{min:5e3,max:9999,label:"5k+"},{min:1e4,max:1/0,label:"10k+"}].find(({min:a,max:r})=>s>=a&&s<=r);return(t==null?void 0:t.label)??""}function Ze(s,e,t){const a=s.slice();return a[6]=e[t],a}function Fe(s,e,t){const a=s.slice();return a[9]=e[t],a}function Ge(s){let e,t=s[9].name+"",a,r;return{c(){e=k("option"),a=H(t),this.h()},l(n){e=w(n,"OPTION",{});var l=x(e);a=L(l,t),l.forEach(c),this.h()},h(){e.__value=r=s[9].name,Te(e,e.__value)},m(n,l){N(n,e,l),v(e,a)},p(n,l){l&1&&t!==(t=n[9].name+"")&&G(a,t),l&1&&r!==(r=n[9].name)&&(e.__value=r,Te(e,e.__value))},d(n){n&&c(e)}}}function $t(s){var b;let e,t,a,r,n,l,i,f;t=new vt({props:{class:"text-xs"}});let o=((b=s[0].user)==null?void 0:b.username)&&Je(s);return{c(){e=k("a"),J(t.$$.fragment),a=H(`
					Community`),l=M(),o&&o.c(),i=se(),this.h()},l(m){e=w(m,"A",{href:!0,class:!0});var u=x(e);Q(t.$$.fragment,u),a=L(u,`
					Community`),u.forEach(c),l=S(m),o&&o.l(m),i=se(),this.h()},h(){d(e,"href",r=X(s[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})),d(e,"class",n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(s[1]?"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300":"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white"))},m(m,u){N(m,e,u),W(t,e,null),v(e,a),N(m,l,u),o&&o.m(m,u),N(m,i,u),f=!0},p(m,u){var h;(!f||u&4&&r!==(r=X(m[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})))&&d(e,"href",r),(!f||u&2&&n!==(n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(m[1]?"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300":"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white")))&&d(e,"class",n),(h=m[0].user)!=null&&h.username?o?o.p(m,u):(o=Je(m),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i(m){f||(T(t.$$.fragment,m),f=!0)},o(m){D(t.$$.fragment,m),f=!1},d(m){m&&(c(e),c(l),c(i)),Y(t),o&&o.d(m)}}}function Mt(s){let e,t,a,r,n,l,i,f,o;n=new dt({props:{class:"text-xs group-hover:text-gray-800 dark:group-hover:text-gray-300"}});let b=lt;return{c(){e=k("div"),t=H(s[1]),a=H(`'s Assistants
					`),r=k("a"),J(n.$$.fragment),i=M(),f=se(),this.h()},l(m){e=w(m,"DIV",{class:!0});var u=x(e);t=L(u,s[1]),a=L(u,`'s Assistants
					`),r=w(u,"A",{href:!0,class:!0});var h=x(r);Q(n.$$.fragment,h),h.forEach(c),u.forEach(c),i=S(m),f=se(),this.h()},h(){d(r,"href",l=X(s[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})),d(r,"class","group"),d(e,"class","flex items-center gap-1.5 rounded-full border border-gray-300 bg-gray-50 px-3 py-1 dark:border-gray-600 dark:bg-gray-700 dark:text-white")},m(m,u){N(m,e,u),v(e,t),v(e,a),v(e,r),W(n,r,null),N(m,i,u),N(m,f,u),o=!0},p(m,u){(!o||u&2)&&G(t,m[1]),(!o||u&4&&l!==(l=X(m[2].url,{existingKeys:{behaviour:"delete",keys:["user","modelId","p"]}})))&&d(r,"href",l)},i(m){o||(T(n.$$.fragment,m),T(b),o=!0)},o(m){D(n.$$.fragment,m),D(b),o=!1},d(m){m&&(c(e),c(i),c(f)),Y(n)}}}function Je(s){let e,t=s[0].user.username+"",a,r,n;return{c(){e=k("a"),a=H(t),this.h()},l(l){e=w(l,"A",{href:!0,class:!0});var i=x(e);a=L(i,t),i.forEach(c),this.h()},h(){d(e,"href",r=X(s[2].url,{newKeys:{user:s[0].user.username},existingKeys:{behaviour:"delete",keys:["modelId","p"]}})),d(e,"class",n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(s[1]&&s[3]?"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white":"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300"))},m(l,i){N(l,e,i),v(e,a)},p(l,i){i&1&&t!==(t=l[0].user.username+"")&&G(a,t),i&5&&r!==(r=X(l[2].url,{newKeys:{user:l[0].user.username},existingKeys:{behaviour:"delete",keys:["modelId","p"]}}))&&d(e,"href",r),i&10&&n!==(n="flex items-center gap-1.5 rounded-full border px-3 py-1 "+(l[1]&&l[3]?"border-gray-300 bg-gray-50  dark:border-gray-600 dark:bg-gray-700 dark:text-white":"border-transparent text-gray-400 hover:text-gray-800 dark:hover:text-gray-300"))&&d(e,"class",n)},d(l){l&&c(e)}}}function Qe(s){let e;return{c(){e=H("No assistants found")},l(t){e=L(t,"No assistants found")},m(t,a){N(t,e,a)},d(t){t&&c(e)}}}function We(s){let e,t,a=Xe(s[6].userCount)+"",r,n;return t=new yt({props:{class:"text-xxs"}}),{c(){e=k("div"),J(t.$$.fragment),r=H(a),this.h()},l(l){e=w(l,"DIV",{class:!0,title:!0});var i=x(e);Q(t.$$.fragment,i),r=L(i,a),i.forEach(c),this.h()},h(){d(e,"class","absolute right-3 top-3 flex items-center gap-1 text-xs text-gray-400"),d(e,"title","Number of users")},m(l,i){N(l,e,i),W(t,e,null),v(e,r),n=!0},p(l,i){(!n||i&1)&&a!==(a=Xe(l[6].userCount)+"")&&G(r,a)},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){l&&c(e),Y(t)}}}function St(s){let e,t=s[6].name[0]+"",a;return{c(){e=k("div"),a=H(t),this.h()},l(r){e=w(r,"DIV",{class:!0});var n=x(e);a=L(n,t),n.forEach(c),this.h()},h(){d(e,"class","mb-2 flex aspect-square size-12 flex-none items-center justify-center rounded-full bg-gray-300 text-2xl font-bold uppercase text-gray-500 sm:mb-6 sm:size-20 dark:bg-gray-800")},m(r,n){N(r,e,n),v(e,a)},p(r,n){n&1&&t!==(t=r[6].name[0]+"")&&G(a,t)},d(r){r&&c(e)}}}function jt(s){let e,t;return{c(){e=k("img"),this.h()},l(a){e=w(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Le(e.src,t=ue+"/settings/assistants/"+s[6]._id+"/avatar.jpg")||d(e,"src",t),d(e,"alt","Avatar"),d(e,"class","mb-2 aspect-square size-12 flex-none rounded-full object-cover sm:mb-6 sm:size-20")},m(a,r){N(a,e,r)},p(a,r){r&1&&!Le(e.src,t=ue+"/settings/assistants/"+a[6]._id+"/avatar.jpg")&&d(e,"src",t)},d(a){a&&c(e)}}}function Ye(s){let e,t,a,r=s[6].createdByName+"",n,l;return{c(){e=k("p"),t=H("Created by "),a=k("a"),n=H(r),this.h()},l(i){e=w(i,"P",{class:!0});var f=x(e);t=L(f,"Created by "),a=w(f,"A",{class:!0,href:!0});var o=x(a);n=L(o,r),o.forEach(c),f.forEach(c),this.h()},h(){d(a,"class","hover:underline"),d(a,"href",l=ue+"/assistants?user="+s[6].createdByName),d(e,"class","mt-auto pt-2 text-xs text-gray-400 dark:text-gray-500")},m(i,f){N(i,e,f),v(e,t),v(e,a),v(a,n)},p(i,f){f&1&&r!==(r=i[6].createdByName+"")&&G(n,r),f&1&&l!==(l=ue+"/assistants?user="+i[6].createdByName)&&d(a,"href",l)},d(i){i&&c(e)}}}function et(s,e){let t,a,r,n,l=e[6].name+"",i,f,o,b=e[6].description+"",m,u,h,_,p,y=e[6].userCount&&e[6].userCount>1&&We(e);function P(V,I){return V[6].avatar?jt:St}let C=P(e),A=C(e),B=e[6].createdByName&&Ye(e);return{key:s,first:null,c(){t=k("a"),y&&y.c(),a=M(),A.c(),r=M(),n=k("h3"),i=H(l),f=M(),o=k("p"),m=H(b),u=M(),B&&B.c(),h=M(),this.h()},l(V){t=w(V,"A",{href:!0,class:!0});var I=x(t);y&&y.l(I),a=S(I),A.l(I),r=S(I),n=w(I,"H3",{class:!0});var q=x(n);i=L(q,l),q.forEach(c),f=S(I),o=w(I,"P",{class:!0});var O=x(o);m=L(O,b),O.forEach(c),u=S(I),B&&B.l(I),h=S(I),I.forEach(c),this.h()},h(){d(n,"class","mb-2 line-clamp-2 max-w-full break-words text-center text-[.8rem] font-semibold leading-snug sm:text-sm"),d(o,"class","line-clamp-4 text-xs text-gray-700 sm:line-clamp-2 dark:text-gray-400"),d(t,"href",_=ue+"/assistant/"+e[6]._id),d(t,"class","relative flex flex-col items-center justify-center overflow-hidden text-balance rounded-xl border bg-gray-50/50 px-4 py-6 text-center shadow hover:bg-gray-50 hover:shadow-inner max-sm:px-4 sm:h-64 sm:pb-4 xl:pt-8 dark:border-gray-800/70 dark:bg-gray-950/20 dark:hover:bg-gray-950/40"),this.first=t},m(V,I){N(V,t,I),y&&y.m(t,null),v(t,a),A.m(t,null),v(t,r),v(t,n),v(n,i),v(t,f),v(t,o),v(o,m),v(t,u),B&&B.m(t,null),v(t,h),p=!0},p(V,I){e=V,e[6].userCount&&e[6].userCount>1?y?(y.p(e,I),I&1&&T(y,1)):(y=We(e),y.c(),T(y,1),y.m(t,a)):y&&(ge(),D(y,1,1,()=>{y=null}),_e()),C===(C=P(e))&&A?A.p(e,I):(A.d(1),A=C(e),A&&(A.c(),A.m(t,r))),(!p||I&1)&&l!==(l=e[6].name+"")&&G(i,l),(!p||I&1)&&b!==(b=e[6].description+"")&&G(m,b),e[6].createdByName?B?B.p(e,I):(B=Ye(e),B.c(),B.m(t,h)):B&&(B.d(1),B=null),(!p||I&1&&_!==(_=ue+"/assistant/"+e[6]._id))&&d(t,"href",_)},i(V){p||(T(y),p=!0)},o(V){D(y),p=!1},d(V){V&&c(t),y&&y.d(),A.d(),B&&B.d()}}}function Ut(s){let e,t,a,r,n,l,i="Assistants",f,o,b,m="Popular assistants made by the community",u,h,_,p,y="All models",P,C,A,B,V,I,q,O,xe,F,R=[],Be=new Map,Ie,ee,ve,Ee,De,Ke=lt,he=de(s[0].models.filter(tt)),$=[];for(let g=0;g<he.length;g+=1)$[g]=Ge(Fe(s,he,g));A=new ht({});const $e=[Mt,$t],te=[];function Me(g,E){return g[1]&&!g[3]?0:1}q=Me(s),O=te[q]=$e[q](s);let ne=de(s[0].assistants);const Se=g=>g[6]._id;for(let g=0;g<ne.length;g+=1){let E=Ze(s,ne,g),K=Se(E);Be.set(K,R[g]=et(K,E))}let j=null;return ne.length||(j=Qe()),ee=new Kt({props:{classNames:"w-full flex justify-center mt-14 mb-4",numItemsPerPage:s[0].numItemsPerPage,numTotalItems:s[0].numTotalItems}}),{c(){e=se(),t=M(),a=k("div"),r=k("div"),n=k("div"),l=k("h1"),l.textContent=i,f=M(),o=M(),b=k("h3"),b.textContent=m,u=M(),h=k("div"),_=k("select"),p=k("option"),p.textContent=y;for(let g=0;g<$.length;g+=1)$[g].c();P=M(),C=k("a"),J(A.$$.fragment),B=H("Create New assistant"),V=M(),I=k("div"),O.c(),xe=M(),F=k("div");for(let g=0;g<R.length;g+=1)R[g].c();j&&j.c(),Ie=M(),J(ee.$$.fragment),this.h()},l(g){const E=nt("svelte-10l5qpo",document.head);e=se(),E.forEach(c),t=S(g),a=w(g,"DIV",{class:!0});var K=x(a);r=w(K,"DIV",{class:!0});var U=x(r);n=w(U,"DIV",{class:!0});var z=x(n);l=w(z,"H1",{class:!0,"data-svelte-h":!0}),Ae(l)!=="svelte-648qij"&&(l.textContent=i),f=S(z),z.forEach(c),o=S(U),b=w(U,"H3",{class:!0,"data-svelte-h":!0}),Ae(b)!=="svelte-1wb8a6q"&&(b.textContent=m),u=S(U),h=w(U,"DIV",{class:!0});var ie=x(h);_=w(ie,"SELECT",{class:!0});var Pe=x(_);p=w(Pe,"OPTION",{"data-svelte-h":!0}),Ae(p)!=="svelte-s2c3t7"&&(p.textContent=y);for(let oe=0;oe<$.length;oe+=1)$[oe].l(Pe);Pe.forEach(c),P=S(ie),C=w(ie,"A",{href:!0,class:!0});var Ce=x(C);Q(A.$$.fragment,Ce),B=L(Ce,"Create New assistant"),Ce.forEach(c),ie.forEach(c),V=S(U),I=w(U,"DIV",{class:!0});var je=x(I);O.l(je),je.forEach(c),xe=S(U),F=w(U,"DIV",{class:!0});var Ne=x(F);for(let oe=0;oe<R.length;oe+=1)R[oe].l(Ne);j&&j.l(Ne),Ne.forEach(c),Ie=S(U),Q(ee.$$.fragment,U),U.forEach(c),K.forEach(c),this.h()},h(){d(l,"class","text-2xl font-bold"),d(n,"class","flex items-center"),d(b,"class","text-gray-500"),p.__value="",Te(p,p.__value),d(_,"class","mt-1 h-[34px] rounded-lg border border-gray-300 bg-gray-50 px-2 text-sm text-gray-900 focus:border-blue-700 focus:ring-blue-700 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400"),s[0].selectedModel===void 0&&it(()=>s[5].call(_)),d(C,"href",`${ue}/settings/assistants/new`),d(C,"class","flex items-center gap-1 whitespace-nowrap rounded-lg border bg-white py-1 pl-1.5 pr-2.5 shadow-sm hover:bg-gray-50 hover:shadow-none dark:border-gray-600 dark:bg-gray-700 dark:hover:bg-gray-700"),d(h,"class","mt-6 flex justify-between gap-2 max-sm:flex-col sm:items-center"),d(I,"class","mt-7 flex items-center gap-x-2 text-sm"),d(F,"class","mt-8 grid grid-cols-2 gap-3 sm:gap-5 md:grid-cols-3 lg:grid-cols-4"),d(r,"class","pt-42 mx-auto flex flex-col px-5 xl:w-[60rem] 2xl:w-[64rem]"),d(a,"class","scrollbar-custom mr-1 h-full overflow-y-auto py-12 max-sm:pt-8 md:py-24")},m(g,E){v(document.head,e),N(g,t,E),N(g,a,E),v(a,r),v(r,n),v(n,l),v(n,f),v(r,o),v(r,b),v(r,u),v(r,h),v(h,_),v(_,p);for(let K=0;K<$.length;K+=1)$[K]&&$[K].m(_,null);ze(_,s[0].selectedModel,!0),v(h,P),v(h,C),W(A,C,null),v(C,B),v(r,V),v(r,I),te[q].m(I,null),v(r,xe),v(r,F);for(let K=0;K<R.length;K+=1)R[K]&&R[K].m(F,null);j&&j.m(F,null),v(r,Ie),W(ee,r,null),ve=!0,Ee||(De=[He(_,"change",s[5]),He(_,"change",s[4])],Ee=!0)},p(g,[E]){if(E&1){he=de(g[0].models.filter(tt));let z;for(z=0;z<he.length;z+=1){const ie=Fe(g,he,z);$[z]?$[z].p(ie,E):($[z]=Ge(ie),$[z].c(),$[z].m(_,null))}for(;z<$.length;z+=1)$[z].d(1);$.length=he.length}E&1&&ze(_,g[0].selectedModel);let K=q;q=Me(g),q===K?te[q].p(g,E):(ge(),D(te[K],1,1,()=>{te[K]=null}),_e(),O=te[q],O?O.p(g,E):(O=te[q]=$e[q](g),O.c()),T(O,1),O.m(I,null)),E&1&&(ne=de(g[0].assistants),ge(),R=ft(R,E,Se,1,g,ne,Be,F,ct,et,null,Ze),_e(),ne.length?j&&(j.d(1),j=null):j||(j=Qe(),j.c(),j.m(F,null)));const U={};E&1&&(U.numItemsPerPage=g[0].numItemsPerPage),E&1&&(U.numTotalItems=g[0].numTotalItems),ee.$set(U)},i(g){if(!ve){T(Ke),T(A.$$.fragment,g),T(O);for(let E=0;E<ne.length;E+=1)T(R[E]);T(ee.$$.fragment,g),ve=!0}},o(g){D(Ke),D(A.$$.fragment,g),D(O);for(let E=0;E<R.length;E+=1)D(R[E]);D(ee.$$.fragment,g),ve=!1},d(g){g&&(c(t),c(a)),c(e),at($,g),Y(A),te[q].d();for(let E=0;E<R.length;E+=1)R[E].d();j&&j.d(),Y(ee),Ee=!1,ot(De)}}}const tt=s=>!s.unlisted;function zt(s,e,t){let a,r,n;rt(s,st,o=>t(2,n=o));let{data:l}=e;const i=o=>{const b=X(n.url,{newKeys:{modelId:o.target.value},existingKeys:{behaviour:"delete_except",keys:["user"]}});mt(b)};function f(){l.selectedModel=ut(this),t(0,l)}return s.$$set=o=>{"data"in o&&t(0,l=o.data)},s.$$.update=()=>{var o;s.$$.dirty&4&&t(1,a=n.url.searchParams.get("user")),s.$$.dirty&3&&t(3,r=((o=l.user)==null?void 0:o.username)&&l.user.username===a)},[l,a,n,r,i,f]}class Jt extends ce{constructor(e){super(),me(this,e,zt,Ut,fe,{data:0})}}export{Jt as component};
