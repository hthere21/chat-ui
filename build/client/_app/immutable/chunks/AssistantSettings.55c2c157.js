import{_ as Yt}from"./preload-helper.a4192956.js";import{s as Qt,e as c,a as b,t as G,c as p,b as v,g,q as Q,d as z,f as d,h as r,K as Pe,i as U,j as n,L as Z,r as Ne,u as Zt,k as oe,v as Ft,M as $t,w as el,l as tl,N as ll,n as Wt,J as al,G as sl,y as tt}from"./scheduler.6a9d17f6.js";import{S as rl,i as nl,g as Vt,d as ye,f as Dt,t as de,c as yt,a as kt,m as Ct,e as It}from"./index.f8ec6462.js";import{e as Rt}from"./each.81050b20.js";import{e as ol,a as il}from"./forms.15847325.js";import{b as Le}from"./singletons.7e5ab6ef.js";import{P as ul}from"./pen.34648ac3.js";import{I as fl,U as cl}from"./IconLoading.fcfe275c.js";import{u as pl}from"./settings.e8a11d43.js";function qt(s,e,a){const l=s.slice();return l[21]=e[a],l}function dl(s){let e,a="Create new assistant",l,t,i='Create and share your own AI Assistant. All assistants are <span class="rounded-full border px-2 py-0.5 leading-none">public</span>';return{c(){e=c("h2"),e.textContent=a,l=b(),t=c("p"),t.innerHTML=i,this.h()},l(u){e=p(u,"H2",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-kn9trk"&&(e.textContent=a),l=g(u),t=p(u,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-1851aq4"&&(t.innerHTML=i),this.h()},h(){r(e,"class","text-xl font-semibold"),r(t,"class","mb-6 text-sm text-gray-500")},m(u,f){U(u,e,f),U(u,l,f),U(u,t,f)},p:Wt,d(u){u&&(d(e),d(l),d(t))}}}function ml(s){var k;let e,a,l=(((k=s[1])==null?void 0:k.name)??"")+"",t,i,u,f,P="Modifying an existing assistant will propagate those changes to all users.";return{c(){e=c("h2"),a=G("Edit assistant ("),t=G(l),i=G(")"),u=b(),f=c("p"),f.textContent=P,this.h()},l(y){e=p(y,"H2",{class:!0});var _=v(e);a=z(_,"Edit assistant ("),t=z(_,l),i=z(_,")"),_.forEach(d),u=g(y),f=p(y,"P",{class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-1jirery"&&(f.textContent=P),this.h()},h(){r(e,"class","text-xl font-semibold"),r(f,"class","mb-6 text-sm text-gray-500")},m(y,_){U(y,e,_),n(e,a),n(e,t),n(e,i),U(y,u,_),U(y,f,_)},p(y,_){var C;_&2&&l!==(l=(((C=y[1])==null?void 0:C.name)??"")+"")&&oe(t,l)},d(y){y&&(d(e),d(u),d(f))}}}function _l(s){let e,a,l,t,i;return l=new cl({props:{class:"mr-2 text-xs "}}),{c(){e=c("div"),a=c("label"),yt(l.$$.fragment),t=G(" Upload"),this.h()},l(u){e=p(u,"DIV",{class:!0});var f=v(e);a=p(f,"LABEL",{for:!0,class:!0});var P=v(a);kt(l.$$.fragment,P),t=z(P," Upload"),P.forEach(d),f.forEach(d),this.h()},h(){r(a,"for","avatar"),r(a,"class","btn flex h-8 rounded-lg border bg-white px-3 py-1 text-gray-500 shadow-sm transition-all hover:bg-gray-100"),r(e,"class","mb-1 flex w-max flex-row gap-4")},m(u,f){U(u,e,f),n(e,a),Ct(l,a,null),n(a,t),i=!0},p:Wt,i(u){i||(de(l.$$.fragment,u),i=!0)},o(u){ye(l.$$.fragment,u),i=!1},d(u){u&&d(e),It(l)}}}function hl(s){let e,a,l,t,i,u,f,P="Delete",k,y,_;function C(h,I){var H;if(h[3]&&h[3][0])return bl;if((H=h[1])!=null&&H.avatar)return vl}let V=C(s),E=V&&V(s);return t=new ul({props:{class:"mx-auto my-auto h-full cursor-pointer text-center text-white"}}),{c(){e=c("div"),E&&E.c(),a=b(),l=c("label"),yt(t.$$.fragment),i=b(),u=c("div"),f=c("button"),f.textContent=P,this.h()},l(h){e=p(h,"DIV",{class:!0});var I=v(e);E&&E.l(I),a=g(I),l=p(I,"LABEL",{for:!0,class:!0});var H=v(l);kt(t.$$.fragment,H),H.forEach(d),I.forEach(d),i=g(h),u=p(h,"DIV",{class:!0});var q=v(u);f=p(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-6eh37n"&&(f.textContent=P),q.forEach(d),this.h()},h(){r(l,"for","avatar"),r(l,"class","invisible absolute bottom-0 h-12 w-12 rounded-full bg-black bg-opacity-50 p-1 group-hover:visible hover:visible"),r(e,"class","group relative mx-auto h-12 w-12"),r(f,"type","button"),r(f,"class","mx-auto w-max text-center text-xs text-gray-600 hover:underline"),r(u,"class","mx-auto w-max pt-1")},m(h,I){U(h,e,I),E&&E.m(e,null),n(e,a),n(e,l),Ct(t,l,null),U(h,i,I),U(h,u,I),n(u,f),k=!0,y||(_=Ne(f,"click",al(sl(s[14]))),y=!0)},p(h,I){V===(V=C(h))&&E?E.p(h,I):(E&&E.d(1),E=V&&V(h),E&&(E.c(),E.m(e,a)))},i(h){k||(de(t.$$.fragment,h),k=!0)},o(h){ye(t.$$.fragment,h),k=!1},d(h){h&&(d(e),d(i),d(u)),E&&E.d(),It(t),y=!1,_()}}}function vl(s){let e,a;return{c(){e=c("img"),this.h()},l(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){tt(e.src,a=Le+"/settings/assistants/"+s[1]._id+"/avatar.jpg?hash="+s[1].avatar)||r(e,"src",a),r(e,"alt","avatar"),r(e,"class","crop mx-auto h-12 w-12 cursor-pointer rounded-full object-cover")},m(l,t){U(l,e,t)},p(l,t){t&2&&!tt(e.src,a=Le+"/settings/assistants/"+l[1]._id+"/avatar.jpg?hash="+l[1].avatar)&&r(e,"src",a)},d(l){l&&d(e)}}}function bl(s){let e,a;return{c(){e=c("img"),this.h()},l(l){e=p(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){tt(e.src,a=URL.createObjectURL(s[3][0]))||r(e,"src",a),r(e,"alt","avatar"),r(e,"class","crop mx-auto h-12 w-12 cursor-pointer rounded-full object-cover")},m(l,t){U(l,e,t)},p(l,t){t&8&&!tt(e.src,a=URL.createObjectURL(l[3][0]))&&r(e,"src",a)},d(l){l&&d(e)}}}function Ht(s){let e,a=s[21].displayName+"",l,t,i;return{c(){e=c("option"),l=G(a),this.h()},l(u){e=p(u,"OPTION",{});var f=v(e);l=z(f,a),f.forEach(d),this.h()},h(){var u;e.__value=t=s[21].id,Z(e,e.__value),e.selected=i=s[1]?((u=s[1])==null?void 0:u.modelId)===s[21].id:s[11].activeModel===s[21].id},m(u,f){U(u,e,f),n(e,l)},p(u,f){var P;f&4&&a!==(a=u[21].displayName+"")&&oe(l,a),f&4&&t!==(t=u[21].id)&&(e.__value=t,Z(e,e.__value)),f&2054&&i!==(i=u[1]?((P=u[1])==null?void 0:P.modelId)===u[21].id:u[11].activeModel===u[21].id)&&(e.selected=i)},d(u){u&&d(e)}}}function Gt(s){let e,a,l;return{c(){e=c("input"),this.h()},l(t){e=p(t,"INPUT",{name:!0,class:!0}),this.h()},h(){r(e,"name","exampleInput2"),r(e,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2")},m(t,i){U(t,e,i),Z(e,s[6]),a||(l=Ne(e,"input",s[16]),a=!0)},p(t,i){i&64&&e.value!==t[6]&&Z(e,t[6])},d(t){t&&d(e),a=!1,l()}}}function zt(s){let e,a,l;return{c(){e=c("input"),this.h()},l(t){e=p(t,"INPUT",{name:!0,class:!0}),this.h()},h(){r(e,"name","exampleInput3"),r(e,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2")},m(t,i){U(t,e,i),Z(e,s[7]),a||(l=Ne(e,"input",s[17]),a=!0)},p(t,i){i&128&&e.value!==t[7]&&Z(e,t[7])},d(t){t&&d(e),a=!1,l()}}}function Xt(s){let e,a,l;return{c(){e=c("input"),this.h()},l(t){e=p(t,"INPUT",{name:!0,class:!0}),this.h()},h(){r(e,"name","exampleInput4"),r(e,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2")},m(t,i){U(t,e,i),Z(e,s[8]),a||(l=Ne(e,"input",s[18]),a=!0)},p(t,i){i&256&&e.value!==t[8]&&Z(e,t[8])},d(t){t&&d(e),a=!1,l()}}}function Jt(s){let e,a;return e=new fl({props:{classNames:"ml-2 h-min"}}),{c(){yt(e.$$.fragment)},l(l){kt(e.$$.fragment,l)},m(l,t){Ct(e,l,t),a=!0},i(l){a||(de(e.$$.fragment,l),a=!0)},o(l){ye(e.$$.fragment,l),a=!1},d(l){It(e,l)}}}function gl(s){let e,a,l,t,i,u,f="Avatar",P,k,y,_,C,V,E,h=X("avatar",s[0])+"",I,H,q,F,Ve="Name",Te,J,me,w,T,ie=X("name",s[0])+"",De,lt,$,_e,wt="Description",at,ee,Re,st,ke,Me=X("description",s[0])+"",qe,rt,he,ve,xt="Model",nt,te,be,Ue=X("modelId",s[0])+"",He,ot,le,ge,At="User start messages",it,D,ae,ut,Ge,ze,ft,Ce,Se=X("inputMessage1",s[0])+"",Xe,ct,Y,Ee,Pt="Instructions (system prompt)",pt,se,Je,dt,Ie,je=X("preprompt",s[0])+"",Ke,mt,ue,fe,_t,We,ht,x,Oe=s[1]?"Save":"Create",Ye,vt,Qe,A,bt,Lt;function Nt(o,m){return o[1]?ml:dl}let Ze=Nt(s),K=Ze(s);const Tt=[hl,_l],ce=[];function Mt(o,m){var N;return o[3]&&o[3][0]||(N=o[1])!=null&&N.avatar&&!o[9]?0:1}_=Mt(s),C=ce[_]=Tt[_](s);let we=Rt(s[2].filter(Kt)),M=[];for(let o=0;o<we.length;o+=1)M[o]=Ht(qt(s,we,o));let S=(!!s[5]||!!s[6])&&Gt(s),j=(!!s[6]||!!s[7])&&zt(s),O=(!!s[7]||!!s[8])&&Xt(s),L=s[10]&&Jt();return{c(){e=c("form"),K.c(),a=b(),l=c("div"),t=c("div"),i=c("div"),u=c("span"),u.textContent=f,P=b(),k=c("input"),y=b(),C.c(),V=b(),E=c("p"),I=G(h),H=b(),q=c("label"),F=c("span"),F.textContent=Ve,Te=b(),J=c("input"),w=b(),T=c("p"),De=G(ie),lt=b(),$=c("label"),_e=c("span"),_e.textContent=wt,at=b(),ee=c("textarea"),st=b(),ke=c("p"),qe=G(Me),rt=b(),he=c("label"),ve=c("span"),ve.textContent=xt,nt=b(),te=c("select");for(let o=0;o<M.length;o+=1)M[o].c();be=c("p"),He=G(Ue),ot=b(),le=c("label"),ge=c("span"),ge.textContent=At,it=b(),D=c("div"),ae=c("input"),ut=b(),S&&S.c(),Ge=b(),j&&j.c(),ze=b(),O&&O.c(),ft=b(),Ce=c("p"),Xe=G(Se),ct=b(),Y=c("label"),Ee=c("span"),Ee.textContent=Pt,pt=b(),se=c("textarea"),dt=b(),Ie=c("p"),Ke=G(je),mt=b(),ue=c("div"),fe=c("a"),_t=G("Cancel"),ht=b(),x=c("button"),Ye=G(Oe),vt=b(),L&&L.c(),this.h()},l(o){e=p(o,"FORM",{method:!0,class:!0,enctype:!0});var m=v(e);K.l(m),a=g(m),l=p(m,"DIV",{class:!0});var N=v(l);t=p(N,"DIV",{class:!0});var B=v(t);i=p(B,"DIV",{});var W=v(i);u=p(W,"SPAN",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-86e3cm"&&(u.textContent=f),P=g(W),k=p(W,"INPUT",{type:!0,accept:!0,name:!0,id:!0,class:!0}),y=g(W),C.l(W),V=g(W),E=p(W,"P",{class:!0});var Be=v(E);I=z(Be,h),Be.forEach(d),W.forEach(d),H=g(B),q=p(B,"LABEL",{});var re=v(q);F=p(re,"SPAN",{class:!0,"data-svelte-h":!0}),Q(F)!=="svelte-128iduy"&&(F.textContent=Ve),Te=g(re),J=p(re,"INPUT",{name:!0,class:!0,placeholder:!0}),w=g(re),T=p(re,"P",{class:!0});var R=v(T);De=z(R,ie),R.forEach(d),re.forEach(d),lt=g(B),$=p(B,"LABEL",{});var ne=v($);_e=p(ne,"SPAN",{class:!0,"data-svelte-h":!0}),Q(_e)!=="svelte-88x4jt"&&(_e.textContent=wt),at=g(ne),ee=p(ne,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),v(ee).forEach(d),st=g(ne),ke=p(ne,"P",{class:!0});var Ut=v(ke);qe=z(Ut,Me),Ut.forEach(d),ne.forEach(d),rt=g(B),he=p(B,"LABEL",{});var Fe=v(he);ve=p(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),Q(ve)!=="svelte-1b5jpwy"&&(ve.textContent=xt),nt=g(Fe),te=p(Fe,"SELECT",{name:!0,class:!0});var gt=v(te);for(let Et=0;Et<M.length;Et+=1)M[Et].l(gt);be=p(gt,"P",{class:!0});var St=v(be);He=z(St,Ue),St.forEach(d),gt.forEach(d),Fe.forEach(d),ot=g(B),le=p(B,"LABEL",{});var xe=v(le);ge=p(xe,"SPAN",{class:!0,"data-svelte-h":!0}),Q(ge)!=="svelte-5kr6hq"&&(ge.textContent=At),it=g(xe),D=p(xe,"DIV",{class:!0});var pe=v(D);ae=p(pe,"INPUT",{name:!0,class:!0}),ut=g(pe),S&&S.l(pe),Ge=g(pe),j&&j.l(pe),ze=g(pe),O&&O.l(pe),pe.forEach(d),ft=g(xe),Ce=p(xe,"P",{class:!0});var jt=v(Ce);Xe=z(jt,Se),jt.forEach(d),xe.forEach(d),B.forEach(d),ct=g(N),Y=p(N,"LABEL",{class:!0});var Ae=v(Y);Ee=p(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),Q(Ee)!=="svelte-gjd1si"&&(Ee.textContent=Pt),pt=g(Ae),se=p(Ae,"TEXTAREA",{name:!0,class:!0,placeholder:!0}),v(se).forEach(d),dt=g(Ae),Ie=p(Ae,"P",{class:!0});var Ot=v(Ie);Ke=z(Ot,je),Ot.forEach(d),Ae.forEach(d),N.forEach(d),mt=g(m),ue=p(m,"DIV",{class:!0});var $e=v(ue);fe=p($e,"A",{href:!0,class:!0});var Bt=v(fe);_t=z(Bt,"Cancel"),Bt.forEach(d),ht=g($e),x=p($e,"BUTTON",{type:!0,"aria-disabled":!0,class:!0});var et=v(x);Ye=z(et,Oe),vt=g(et),L&&L.l(et),et.forEach(d),$e.forEach(d),m.forEach(d),this.h()},h(){var o,m,N,B;r(u,"class","mb-1 block pb-2 text-sm font-semibold"),r(k,"type","file"),r(k,"accept","image/*"),r(k,"name","avatar"),r(k,"id","avatar"),r(k,"class","hidden"),r(E,"class","text-xs text-red-500"),r(F,"class","mb-1 text-sm font-semibold"),r(J,"name","name"),r(J,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2"),r(J,"placeholder","My awesome model"),J.value=me=((o=s[1])==null?void 0:o.name)??"",r(T,"class","text-xs text-red-500"),r(_e,"class","mb-1 text-sm font-semibold"),r(ee,"name","description"),r(ee,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2"),r(ee,"placeholder","He knows everything about python"),ee.value=Re=((m=s[1])==null?void 0:m.description)??"",r(ke,"class","text-xs text-red-500"),r(ve,"class","mb-1 text-sm font-semibold"),r(be,"class","text-xs text-red-500"),r(te,"name","modelId"),r(te,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2"),r(ge,"class","mb-1 text-sm font-semibold"),r(ae,"name","exampleInput1"),r(ae,"class","w-full rounded-lg border-2 border-gray-200 bg-gray-100 p-2"),r(D,"class","flex flex-col gap-2 md:max-h-32"),r(Ce,"class","text-xs text-red-500"),r(t,"class","flex flex-col gap-4"),r(Ee,"class","mb-1 text-sm font-semibold"),r(se,"name","preprompt"),r(se,"class","min-h-[8lh] flex-1 rounded-lg border-2 border-gray-200 bg-gray-100 p-2 text-sm"),r(se,"placeholder","You'll act as..."),se.value=Je=((N=s[1])==null?void 0:N.preprompt)??"",r(Ie,"class","text-xs text-red-500"),r(Y,"class","flex flex-col"),r(l,"class","mx-1 grid flex-1 grid-cols-2 gap-4 max-sm:grid-cols-1"),r(fe,"href",We=s[1]?`${Le}/settings/assistants/${(B=s[1])==null?void 0:B._id}`:`${Le}/settings`),r(fe,"class","rounded-full bg-gray-200 px-8 py-2 font-semibold text-gray-600"),r(x,"type","submit"),x.disabled=s[10],r(x,"aria-disabled",s[10]),r(x,"class","rounded-full bg-black px-8 py-2 font-semibold md:px-20"),Pe(x,"bg-gray-200",s[10]),Pe(x,"text-gray-600",s[10]),Pe(x,"text-white",!s[10]),r(ue,"class","mt-5 flex justify-end gap-2"),r(e,"method","POST"),r(e,"class","flex h-full flex-col"),r(e,"enctype","multipart/form-data")},m(o,m){U(o,e,m),K.m(e,null),n(e,a),n(e,l),n(l,t),n(t,i),n(i,u),n(i,P),n(i,k),n(i,y),ce[_].m(i,null),n(i,V),n(i,E),n(E,I),n(t,H),n(t,q),n(q,F),n(q,Te),n(q,J),n(q,w),n(q,T),n(T,De),n(t,lt),n(t,$),n($,_e),n($,at),n($,ee),n($,st),n($,ke),n(ke,qe),n(t,rt),n(t,he),n(he,ve),n(he,nt),n(he,te);for(let N=0;N<M.length;N+=1)M[N]&&M[N].m(te,null);n(te,be),n(be,He),n(t,ot),n(t,le),n(le,ge),n(le,it),n(le,D),n(D,ae),Z(ae,s[5]),n(D,ut),S&&S.m(D,null),n(D,Ge),j&&j.m(D,null),n(D,ze),O&&O.m(D,null),n(le,ft),n(le,Ce),n(Ce,Xe),n(l,ct),n(l,Y),n(Y,Ee),n(Y,pt),n(Y,se),n(Y,dt),n(Y,Ie),n(Ie,Ke),n(e,mt),n(e,ue),n(ue,fe),n(fe,_t),n(ue,ht),n(ue,x),n(x,Ye),n(x,vt),L&&L.m(x,null),A=!0,bt||(Lt=[Ne(k,"change",s[13]),Ne(ae,"input",s[15]),Zt(Qe=ol.call(null,e,s[19]))],bt=!0)},p(o,[m]){var B,W,Be,re;Ze===(Ze=Nt(o))&&K?K.p(o,m):(K.d(1),K=Ze(o),K&&(K.c(),K.m(e,a)));let N=_;if(_=Mt(o),_===N?ce[_].p(o,m):(Vt(),ye(ce[N],1,1,()=>{ce[N]=null}),Dt(),C=ce[_],C?C.p(o,m):(C=ce[_]=Tt[_](o),C.c()),de(C,1),C.m(i,V)),(!A||m&1)&&h!==(h=X("avatar",o[0])+"")&&oe(I,h),(!A||m&2&&me!==(me=((B=o[1])==null?void 0:B.name)??"")&&J.value!==me)&&(J.value=me),(!A||m&1)&&ie!==(ie=X("name",o[0])+"")&&oe(De,ie),(!A||m&2&&Re!==(Re=((W=o[1])==null?void 0:W.description)??""))&&(ee.value=Re),(!A||m&1)&&Me!==(Me=X("description",o[0])+"")&&oe(qe,Me),m&2054){we=Rt(o[2].filter(Kt));let R;for(R=0;R<we.length;R+=1){const ne=qt(o,we,R);M[R]?M[R].p(ne,m):(M[R]=Ht(ne),M[R].c(),M[R].m(te,be))}for(;R<M.length;R+=1)M[R].d(1);M.length=we.length}(!A||m&1)&&Ue!==(Ue=X("modelId",o[0])+"")&&oe(He,Ue),m&32&&ae.value!==o[5]&&Z(ae,o[5]),o[5]||o[6]?S?S.p(o,m):(S=Gt(o),S.c(),S.m(D,Ge)):S&&(S.d(1),S=null),o[6]||o[7]?j?j.p(o,m):(j=zt(o),j.c(),j.m(D,ze)):j&&(j.d(1),j=null),o[7]||o[8]?O?O.p(o,m):(O=Xt(o),O.c(),O.m(D,null)):O&&(O.d(1),O=null),(!A||m&1)&&Se!==(Se=X("inputMessage1",o[0])+"")&&oe(Xe,Se),(!A||m&2&&Je!==(Je=((Be=o[1])==null?void 0:Be.preprompt)??""))&&(se.value=Je),(!A||m&1)&&je!==(je=X("preprompt",o[0])+"")&&oe(Ke,je),(!A||m&2&&We!==(We=o[1]?`${Le}/settings/assistants/${(re=o[1])==null?void 0:re._id}`:`${Le}/settings`))&&r(fe,"href",We),(!A||m&2)&&Oe!==(Oe=o[1]?"Save":"Create")&&oe(Ye,Oe),o[10]?L?m&1024&&de(L,1):(L=Jt(),L.c(),de(L,1),L.m(x,null)):L&&(Vt(),ye(L,1,1,()=>{L=null}),Dt()),(!A||m&1024)&&(x.disabled=o[10]),(!A||m&1024)&&r(x,"aria-disabled",o[10]),(!A||m&1024)&&Pe(x,"bg-gray-200",o[10]),(!A||m&1024)&&Pe(x,"text-gray-600",o[10]),(!A||m&1024)&&Pe(x,"text-white",!o[10]),Qe&&Ft(Qe.update)&&m&1562&&Qe.update.call(null,o[19])},i(o){A||(de(C),de(L),A=!0)},o(o){ye(C),ye(L),A=!1},d(o){o&&d(e),K.d(),ce[_].d(),$t(M,o),S&&S.d(),j&&j.d(),O&&O.d(),L&&L.d(),bt=!1,el(Lt)}}}function X(s,e){var a;return((a=e==null?void 0:e.errors.find(l=>l.field===s))==null?void 0:a.message)??""}const Kt=s=>!s.unlisted;function El(s,e,a){let l,{form:t}=e,{assistant:i=void 0}=e,{models:u=[]}=e,f=null;const P=pl();tl(s,P,w=>a(11,l=w));let k=null;ll(async()=>{const w=await Yt(()=>import("./index.8a46ea8d.js").then(T=>T.i),["./index.8a46ea8d.js","./_commonjsHelpers.39b5b250.js"],import.meta.url);a(4,k=w.readAndCompressImage)});let y=(i==null?void 0:i.exampleInputs[0])??"",_=(i==null?void 0:i.exampleInputs[1])??"",C=(i==null?void 0:i.exampleInputs[2])??"",V=(i==null?void 0:i.exampleInputs[3])??"";function E(){t&&(a(0,t.errors=[],t),a(0,t.error=!1,t))}function h(w){var ie;const T=w.target;if((ie=T.files)!=null&&ie.length&&T.files[0].size>0){if(!T.files[0].type.includes("image")){T.files=null,a(3,f=null),a(0,t={error:!0,errors:[{field:"avatar",message:"Only images are allowed"}]});return}a(3,f=T.files),E(),a(9,I=!1)}}let I=!1,H=!1;const q=()=>{a(3,f=null),a(9,I=!0)};function F(){y=this.value,a(5,y)}function Ve(){_=this.value,a(6,_)}function Te(){C=this.value,a(7,C)}function J(){V=this.value,a(8,V)}const me=async({formData:w})=>(a(10,H=!0),f!=null&&f[0]&&f[0].size>0&&k&&await k(f[0],{maxWidth:500,maxHeight:500,quality:1}).then(T=>{w.set("avatar",T)}),I===!0?i!=null&&i.avatar?w.set("avatar","null"):w.delete("avatar"):f===null&&w.delete("avatar"),async({result:T})=>{a(10,H=!1),await il(T)});return s.$$set=w=>{"form"in w&&a(0,t=w.form),"assistant"in w&&a(1,i=w.assistant),"models"in w&&a(2,u=w.models)},[t,i,u,f,k,y,_,C,V,I,H,l,P,h,q,F,Ve,Te,J,me]}class Nl extends rl{constructor(e){super(),nl(this,e,El,gl,Qt,{form:0,assistant:1,models:2})}}export{Nl as A};
