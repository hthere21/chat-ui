import{b as u}from"./navigation.b63c9ed8.js";import{w as v,b as S}from"./singletons.7e5ab6ef.js";import{X as d,Y as c,Z as l}from"./scheduler.6a9d17f6.js";var n=(e=>(e.ConversationList="conversation:list",e.Conversation="conversation",e))(n||{});function p(){return d("settings")}function g(e){const t=v({...e,recentlySaved:!1});let o;async function i(a){t.update(s=>({...s,...a})),clearTimeout(o),o=setTimeout(async()=>{await fetch(`${S}/settings`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c(t),...a})}),u(n.ConversationList),t.update(s=>({...s,recentlySaved:!0})),setTimeout(()=>{t.update(s=>({...s,recentlySaved:!1}))},3e3),u(n.ConversationList)},300)}const r={subscribe:t.subscribe,set:i,update:a=>{i(a(c(t)))}};return l("settings",r),r}export{n as U,g as c,p as u};
